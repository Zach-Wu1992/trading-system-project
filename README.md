è­‰åˆ¸è‡ªå‹•äº¤æ˜“åˆ†æå¹³å° (é›²ç«¯éƒ¨ç½²ç‰ˆ)
ä¸€å€‹æ•´åˆäº†å³æ™‚æ¨¡æ“¬äº¤æ˜“å„€è¡¨æ¿èˆ‡äº’å‹•å¼æ­·å²å›æ¸¬åŠŸèƒ½çš„ Python Flask Web æ‡‰ç”¨ï¼Œç”± n8n.cloud å·¥ä½œæµå¼•æ“é©…å‹•ï¼Œä¸¦éƒ¨ç½²åœ¨ Render é›²ç«¯å¹³å°ä¸Šï¼Œä½¿ç”¨ PostgreSQL ä½œç‚ºè³‡æ–™åº«ã€‚

é€™æ˜¯ä¸€å€‹å°ˆç‚º IT è·ä½é¢è©¦è¨­è¨ˆçš„å®Œæ•´å°ˆæ¡ˆï¼Œæ—¨åœ¨å±•ç¤ºä¸€å€‹ç¾ä»£åŒ–çš„ã€æœå‹™åˆ†é›¢çš„å¾Œç«¯ç³»çµ±è¨­è¨ˆèˆ‡äº’å‹•å¼å‰ç«¯çš„é–‹ç™¼æµç¨‹ã€‚

å°ˆæ¡ˆé è¦½
(è«‹å°‡æ­¤è™•çš„é€£çµæ›¿æ›ç‚ºæ‚¨è‡ªå·±ä¸Šå‚³åˆ° GitHub çš„æœ€æ–°å„€è¡¨æ¿æˆªåœ–)

ç³»çµ±æ¶æ§‹
æœ¬å°ˆæ¡ˆæ¡ç”¨æœå‹™åˆ†é›¢çš„ç¾ä»£é›²ç«¯æ¶æ§‹ï¼š

n8n.cloud (æŒ‡æ®å®˜): ä½¿ç”¨ n8n å®˜æ–¹çš„é›²ç«¯æœå‹™ï¼Œå®šæ™‚å‘éƒ¨ç½²åœ¨ Render ä¸Šçš„ Flask æ‡‰ç”¨ç™¼é€ Webhook è«‹æ±‚ã€‚

Render Web Service (å£«å…µ + è³‡è¨Šå®˜):

ä¸€å€‹é‹è¡Œ gunicorn çš„ Python ç’°å¢ƒï¼Œè¨—ç®¡æˆ‘å€‘çš„ app.pyã€‚

æä¾› API ç«¯é»æ¥æ”¶ n8n å‘½ä»¤ï¼Œä¸¦åŸ·è¡Œäº¤æ˜“é‚è¼¯ã€‚

æä¾›å‰ç«¯å„€è¡¨æ¿ä¾›ä½¿ç”¨è€…äº’å‹•ã€‚

Render PostgreSQL (è»ç«åº«):

ä¸€å€‹ç”± Render æä¾›çš„å…¨è¨—ç®¡ PostgreSQL è³‡æ–™åº«ï¼Œç”¨æ–¼æ°¸ä¹…å„²å­˜æ‰€æœ‰äº¤æ˜“ã€ç¸¾æ•ˆèˆ‡è¨­å®šæ•¸æ“šã€‚

ä¸»è¦åŠŸèƒ½
ğŸ“Š æ•´åˆæ€§å‰ç«¯ä»‹é¢:

é ç±¤å¼è¨­è¨ˆ: åœ¨å–®ä¸€é é¢ä¸­ç„¡ç¸«åˆ‡æ›ã€Œå³æ™‚å„€è¡¨æ¿ã€èˆ‡ã€Œæ­·å²å›æ¸¬ã€åŠŸèƒ½ã€‚

éåŒæ­¥è«‹æ±‚ (AJAX): åŸ·è¡Œå›æ¸¬æˆ–æ›´æ–°è¨­å®šæ™‚é é¢ç„¡éœ€åˆ·æ–°ï¼Œæä¾›æµæš¢çš„ä½¿ç”¨è€…é«”é©—ã€‚

âš™ï¸ äº’å‹•å¼å³æ™‚ç›£æ§:

ä½¿ç”¨è€…å¯è‡ªè¨‚ç›£æ§çš„è‚¡ç¥¨æ¨™çš„ã€‚

å¯ç‚ºæ¯å€‹æ¨™çš„è¨­å®šç¨ç«‹çš„åˆå§‹è³‡é‡‘ã€‚

æä¾›ã€Œæ‰‹å‹•è§¸ç™¼ã€æŒ‰éˆ•ï¼Œå¯ç«‹å³æ¨¡æ“¬ n8n åŸ·è¡Œä¸€æ¬¡äº¤æ˜“æª¢æŸ¥ã€‚

ğŸ¤– å¯é…ç½®çš„æ­·å²å›æ¸¬: ä½¿ç”¨è€…å¯è‡ªè¨‚å›æ¸¬çš„è‚¡ç¥¨ä»£è™Ÿã€æ™‚é–“å€é–“èˆ‡åˆå§‹è³‡é‡‘ï¼Œå³æ™‚ç²å¾—ç­–ç•¥åœ¨ä¸åŒæƒ…å¢ƒä¸‹çš„è¡¨ç¾ã€‚

ğŸš€ n8n å·¥ä½œæµæ•´åˆ: å°‡æ’ç¨‹åŠŸèƒ½å¤–éƒ¨åŒ–ï¼Œç”± n8n è² è²¬è§¸ç™¼ï¼Œä½¿ç³»çµ±æ›´å…·å½ˆæ€§èˆ‡æ“´å……æ€§ã€‚

ğŸ“ æŒä¹…åŒ–è¨­å®š: æ‰€æœ‰ä½¿ç”¨è€…è¨­å®šéƒ½æœƒè¢«å„²å­˜åœ¨é›²ç«¯ PostgreSQL è³‡æ–™åº«ä¸­ï¼Œé‡å•Ÿå¾Œä¾ç„¶ä¿ç•™ã€‚

æŠ€è¡“æ£§ (Technology Stack)
å¾Œç«¯: Python, Flask, Gunicorn

æ•¸æ“šè™•ç†: Pandas, pandas-ta

è³‡æ–™ç²å–: yfinance

è³‡æ–™åº«: PostgreSQL (on Render)

è‡ªå‹•åŒ–: n8n.cloud

å‰ç«¯: HTML, Tailwind CSS, Chart.js, AJAX (fetch API)

ç‰ˆæœ¬æ§åˆ¶: Git, GitHub

éƒ¨ç½²: Render

å¦‚ä½•åœ¨é›²ç«¯éƒ¨ç½²
ç¬¬ä¸€éƒ¨åˆ†ï¼šéƒ¨ç½² Flask æ‡‰ç”¨åˆ° Render
æº–å‚™ GitHub: å°‡å°ˆæ¡ˆï¼ˆåŒ…å«æœ€æ–°çš„ app.py, requirements.txt, build.shï¼‰æ¨é€åˆ°æ‚¨çš„ GitHub å€‰åº«ã€‚

è¨»å†Š Render: å‰å¾€ Render.com ä¸¦ç”¨æ‚¨çš„ GitHub å¸³è™Ÿè¨»å†Šã€‚

å»ºç«‹ PostgreSQL è³‡æ–™åº«:

åœ¨ Render å„€è¡¨æ¿ï¼Œé»æ“Š New + -> PostgreSQLã€‚

å–ä¸€å€‹åå­—ï¼ˆä¾‹å¦‚ trading-dbï¼‰ï¼Œé¸æ“‡é›¢æ‚¨æœ€è¿‘çš„å€åŸŸï¼Œé»æ“Š Create Databaseã€‚

å»ºç«‹å¾Œï¼Œå¾€ä¸‹æ»¾å‹•åˆ° Connections å€å¡Šï¼Œè¤‡è£½ Internal Database URLï¼Œæˆ‘å€‘ç¨å¾Œæœƒç”¨åˆ°ã€‚

å»ºç«‹ Web Service:

é»æ“Š New + -> Web Serviceã€‚

é¸æ“‡æ‚¨å°ˆæ¡ˆçš„ GitHub å€‰åº«ä¸¦é€£æ¥ã€‚

Name: trading-platform (æˆ–æ‚¨å–œæ­¡çš„åå­—)

Runtime: Python 3

Build Command: pip install -r requirements.txt

Start Command: gunicorn "app:create_app()"

è¨­å®šç’°å¢ƒè®Šæ•¸:

åœ¨ Environment å€å¡Šæ–°å¢å…©å€‹è®Šæ•¸ï¼š

Key: DATABASE_URL, Value: (è²¼ä¸Šæ‚¨å‰›å‰›è¤‡è£½çš„ PostgreSQL å…§éƒ¨ URL)

Key: API_SECRET_KEY, Value: (è¨­å®šä¸€å€‹æ‚¨è‡ªå·±çš„ã€æ›´è¤‡é›œçš„å¯†é‘°ï¼Œä¾‹å¦‚ strong_secret_from_render)

éƒ¨ç½²ï¼: é»æ“Š Create Web Serviceã€‚Render æœƒè‡ªå‹•é–‹å§‹å»ºç«‹ç’°å¢ƒã€å®‰è£å¥—ä»¶ä¸¦å•Ÿå‹•æ‚¨çš„æ‡‰ç”¨ã€‚å®Œæˆå¾Œï¼Œæ‚¨æœƒå¾—åˆ°ä¸€å€‹ ...onrender.com çš„å…¬é–‹ç¶²å€ã€‚

ç¬¬äºŒéƒ¨åˆ†ï¼šè¨­å®š n8n.cloud
è¨»å†Š n8n.cloud: å‰å¾€ n8n.cloud ä¸¦è¨»å†Šä¸€å€‹å…è²»å¸³è™Ÿã€‚

è¨­å®šå·¥ä½œæµ:

ç™»å…¥å¾Œï¼Œåƒä¹‹å‰ä¸€æ¨£åŒ¯å…¥ trading_bot_workflow.jsonã€‚

è¨­å®š HTTP Header Auth æ†‘è­‰ï¼Œé€™æ¬¡çš„ Value è¦ä½¿ç”¨æ‚¨åœ¨ Render ç’°å¢ƒè®Šæ•¸ä¸­è¨­å®šçš„é‚£å€‹æ›´å®‰å…¨çš„ API_SECRET_KEYã€‚

ä¿®æ”¹ HTTP Request ç¯€é»çš„ URLï¼Œå°‡å…¶æ”¹ç‚ºæ‚¨å¾ Render æ‹¿åˆ°çš„å…¬é–‹ç¶²å€ï¼Œä¾‹å¦‚ï¼šhttps://trading-platform.onrender.com/api/trigger-trade-check

å•Ÿå‹•å·¥ä½œæµï¼Œå¤§åŠŸå‘Šæˆï¼

ç¾åœ¨ï¼Œæ‚¨çš„æ•´å€‹ç³»çµ±éƒ½é‹è¡Œåœ¨é›²ç«¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥é€éç¶²å€è¨ªå•æ‚¨çš„å„€è¡¨æ¿ï¼Œè€Œ n8n.cloud ä¹Ÿæœƒæº–æ™‚åœ°åœ¨èƒŒæ™¯è§¸ç™¼æ‚¨çš„äº¤æ˜“æ©Ÿå™¨äººã€‚