# **äº’å‹•å¼è­‰åˆ¸è‡ªå‹•äº¤æ˜“åˆ†æå¹³å°**

ä¸€å€‹æ•´åˆäº†**å³æ™‚æ¨¡æ“¬äº¤æ˜“å„€è¡¨æ¿**èˆ‡**äº’å‹•å¼æ­·å²å›æ¸¬**åŠŸèƒ½çš„ Python Flask Web æ‡‰ç”¨ï¼Œç”±å…§å»ºçš„ **APScheduler** èƒŒæ™¯æ’ç¨‹é©…å‹•ï¼Œä½¿ç”¨ **yfinance** ä½œç‚ºç©©å®šè³‡æ–™æºï¼Œä¸¦éƒ¨ç½²åœ¨ **Render** é›²ç«¯å¹³å°ä¸Šï¼Œä½¿ç”¨ **PostgreSQL** ä½œç‚ºè³‡æ–™åº«ã€‚

## **å°ˆæ¡ˆé è¦½**

*(è«‹å°‡æ­¤è™•çš„é€£çµæ›¿æ›ç‚ºæ‚¨è‡ªå·±ä¸Šå‚³åˆ° GitHub çš„æœ€æ–°å„€è¡¨æ¿æˆªåœ–ï¼Œè¨˜å¾—è¦å±•ç¤ºå‡ºæ–°çš„è¨­å®šå€å¡Šï¼)*

## **ç³»çµ±æ¶æ§‹**

æœ¬å°ˆæ¡ˆæ¡ç”¨æœå‹™åˆ†é›¢çš„ç¾ä»£é›²ç«¯æ¶æ§‹ï¼Œç¢ºä¿å„å…ƒä»¶çš„ç©©å®šæ€§èˆ‡æ“´å……æ€§ï¼š

1. **APScheduler (æŒ‡æ®å®˜)**: ä½¿ç”¨ Python å…§å»ºçš„æ’ç¨‹å¥—ä»¶ï¼Œå®šæ™‚ï¼ˆå°ç£æ™‚é–“æ¯å€‹äº¤æ˜“æ—¥é€±ä¸€è‡³é€±äº” 13:30 æ”¶ç›¤æ™‚ï¼‰è§¸ç™¼äº¤æ˜“æª¢æŸ¥ã€‚  
2. **yfinance API (æƒ…å ±ä¸­å¿ƒ)**: ä½œç‚ºç©©å®šã€å…è²»çš„é‡‘èæ•¸æ“šä¾†æºï¼Œç‚ºç³»çµ±æä¾›æ‰€æœ‰æ­·å²èˆ‡å³æ™‚çš„åƒ¹é‡è³‡æ–™ã€‚  
3. **Render Web Service (å£«å…µ \+ è³‡è¨Šå®˜)**:  
   * ä¸€å€‹é‹è¡Œ gunicorn çš„ Python ç’°å¢ƒï¼Œè¨—ç®¡æˆ‘å€‘çš„ app.pyã€‚  
   * æä¾› API ç«¯é»æ¥æ”¶æ‰‹å‹•å‘½ä»¤æˆ–ç”±èƒŒæ™¯æ’ç¨‹è‡ªå‹•å‘¼å« yfinance API ç²å–è³‡æ–™ä¾†åŸ·è¡Œäº¤æ˜“é‚è¼¯ï¼ˆåŒ…å« VCP çªç ´èˆ‡ 15% åœæï¼‰ã€‚  
   * æä¾›å‰ç«¯å„€è¡¨æ¿ä¾›ä½¿ç”¨è€…äº’å‹•ã€‚  
4. **Render PostgreSQL (è»ç«åº«)**:  
   * ä¸€å€‹ç”± Render æä¾›çš„å…¨è¨—ç®¡ PostgreSQL è³‡æ–™åº«ï¼Œç”¨æ–¼æ°¸ä¹…å„²å­˜æ‰€æœ‰äº¤æ˜“ã€ç¸¾æ•ˆèˆ‡è¨­å®šæ•¸æ“šã€‚

## **ä¸»è¦åŠŸèƒ½**

* **ğŸ“Š æ•´åˆæ€§å‰ç«¯ä»‹é¢**:  
  * **é ç±¤å¼è¨­è¨ˆ**: åœ¨å–®ä¸€é é¢ä¸­ç„¡ç¸«åˆ‡æ›ã€Œå³æ™‚å„€è¡¨æ¿ã€èˆ‡ã€Œæ­·å²å›æ¸¬ã€åŠŸèƒ½ã€‚  
  * **éåŒæ­¥è«‹æ±‚ (AJAX)**: åŸ·è¡Œå›æ¸¬æˆ–æ›´æ–°è¨­å®šæ™‚é é¢ç„¡éœ€åˆ·æ–°ï¼Œæä¾›æµæš¢çš„ä½¿ç”¨è€…é«”é©—ã€‚  
* **âš™ï¸ äº’å‹•å¼å³æ™‚ç›£æ§**:  
  * ä½¿ç”¨è€…å¯**è‡ªè¨‚ç›£æ§çš„è‚¡ç¥¨æ¨™çš„**ã€‚  
  * å¯ç‚º**æ¯å€‹æ¨™çš„è¨­å®šç¨ç«‹çš„åˆå§‹è³‡é‡‘**ã€‚  
  * æä¾›ã€Œæ‰‹å‹•è§¸ç™¼ã€æŒ‰éˆ•ï¼Œå¯ç«‹å³æ¨¡æ“¬åŸ·è¡Œä¸€æ¬¡äº¤æ˜“æª¢æŸ¥ã€‚  
* **ğŸ¤– å¯é…ç½®çš„æ­·å²å›æ¸¬**: ä½¿ç”¨è€…å¯è‡ªè¨‚å›æ¸¬çš„è‚¡ç¥¨ä»£è™Ÿã€æ™‚é–“å€é–“èˆ‡åˆå§‹è³‡é‡‘ï¼Œå³æ™‚ç²å¾—ç­–ç•¥åœ¨ä¸åŒæƒ…å¢ƒä¸‹çš„è¡¨ç¾ã€‚  
* **ğŸš€ å…§å»ºå®šæ™‚æ’ç¨‹**: ç„¡éœ€ä¾è³´å¤–éƒ¨çš„ webhook çŸ­æœŸæ’ç¨‹ï¼Œç”±ç³»çµ±å…§å»º APScheduler è‡ªå‹•æ–¼æ”¶ç›¤å¾ŒåŒ–å‹¤ã€‚  
* **ğŸ“ æŒä¹…åŒ–è¨­å®š**: æ‰€æœ‰ä½¿ç”¨è€…è¨­å®šèˆ‡äº¤æ˜“ç´€éŒ„éƒ½æœƒè¢«å„²å­˜åœ¨é›²ç«¯çš„ PostgreSQL è³‡æ–™åº«ä¸­ã€‚

## **æŠ€è¡“æ£§ (Technology Stack)**

* **å¾Œç«¯**: Python, Flask, Gunicorn  
* **æ•¸æ“šè™•ç†**: Pandas  
* **è³‡æ–™ç²å–**: **yfinance**  
* **è³‡æ–™åº«**: **PostgreSQL** (on Render)  
* **è‡ªå‹•åŒ–**: **APScheduler**  
* **å‰ç«¯**: HTML, Tailwind CSS, Chart.js, AJAX (fetch API)  
* **é›²ç«¯å¹³å°**: Render  
* **ç‰ˆæœ¬æ§åˆ¶**: Git, GitHub

## **å¦‚ä½•åœ¨é›²ç«¯éƒ¨ç½²**

### **éƒ¨ç½² Flask æ‡‰ç”¨åˆ° Render**

1. **æº–å‚™ GitHub**: å°‡å°ˆæ¡ˆï¼ˆåŒ…å«æœ€æ–°çš„ `app.py` å’Œ `requirements.txt`ï¼‰æ¨é€åˆ°æ‚¨çš„ GitHub å€‰åº«ã€‚  
2. **è¨»å†Š Render**: å‰å¾€ [Render.com](https://render.com/) ä¸¦ç”¨æ‚¨çš„ GitHub å¸³è™Ÿè¨»å†Šã€‚  
3. **å»ºç«‹ PostgreSQL è³‡æ–™åº«**:  
   * åœ¨ Render å„€è¡¨æ¿ï¼Œé»æ“Š New \+ \-\> PostgreSQLã€‚  
   * å–ä¸€å€‹åå­—ï¼ˆä¾‹å¦‚ trading-dbï¼‰ï¼Œé¸æ“‡ Singapore å€åŸŸï¼Œé»æ“Š Create Databaseã€‚  
   * å»ºç«‹å¾Œï¼Œå¾€ä¸‹æ»¾å‹•åˆ° Connections å€å¡Šï¼Œè¤‡è£½ **Internal Database URL**ã€‚  
4. **å»ºç«‹ Web Service**:  
   * é»æ“Š New \+ \-\> Web Serviceã€‚  
   * é¸æ“‡æ‚¨å°ˆæ¡ˆçš„ GitHub å€‰åº«ä¸¦é€£æ¥ã€‚  
   * **Name**: trading-platform (æˆ–æ‚¨å–œæ­¡çš„åå­—)  
   * **Branch**: main (æˆ–æ‚¨å­˜æ”¾æœ€çµ‚ç‰ˆçš„ç¨‹å¼ç¢¼åˆ†æ”¯)  
   * **Build Command**: pip install \-r requirements.txt  
   * **Start Command**: gunicorn \--timeout 120 "app:create\_app()"  
5. **è¨­å®šç’°å¢ƒè®Šæ•¸ (æœ€é—œéµçš„ä¸€æ­¥)**:  
   * åœ¨å»ºç«‹æœå‹™çš„é é¢å¾€ä¸‹æ»¾å‹•åˆ° Advancedã€‚  
   * åœ¨ Environment å€å¡Šé»æ“Š Add Environment Variableï¼Œæ–°å¢**ä¸‰å€‹**è®Šæ•¸ï¼š  
     * **Key**: PYTHON\_VERSION, **Value**: 3.12.4  
     * **Key**: DATABASE\_URL, **Value**: (è²¼ä¸Šæ‚¨å‰›å‰›è¤‡è£½çš„ PostgreSQL å…§éƒ¨ URL)  
     * **Key**: API\_SECRET\_KEY, **Value**: (è¨­å®šä¸€å€‹æ‚¨è‡ªå·±çš„ã€è¤‡é›œçš„å¯†é‘°ï¼Œç”¨æ–¼ä¿è­·è‡ªè¨‚è§¸ç™¼ç«¯é»)  
6. **éƒ¨ç½²ï¼**: é»æ“Š Create Web Serviceã€‚Render æœƒè‡ªå‹•é–‹å§‹å»ºç½®ä¸¦å•Ÿå‹•æ‚¨çš„æ‡‰ç”¨ã€‚ä¸€æ—¦å•Ÿå‹•æˆåŠŸï¼Œæ¯æ—¥çš„èƒŒæ™¯æ’ç¨‹ä¾¿æœƒè‡ªå‹•ç”Ÿæ•ˆã€‚