# **äº’å‹•å¼è­‰åˆ¸è‡ªå‹•äº¤æ˜“åˆ†æå¹³å° (FinMind é›²ç«¯éƒ¨ç½²ç‰ˆ)**

ä¸€å€‹æ•´åˆäº†**å³æ™‚æ¨¡æ“¬äº¤æ˜“å„€è¡¨æ¿**èˆ‡**äº’å‹•å¼æ­·å²å›æ¸¬**åŠŸèƒ½çš„ Python Flask Web æ‡‰ç”¨ï¼Œç”± **n8n.cloud** å·¥ä½œæµå¼•æ“é©…å‹•ï¼Œä½¿ç”¨ **FinMind API** ä½œç‚ºç©©å®šè³‡æ–™æºï¼Œä¸¦éƒ¨ç½²åœ¨ **Render** é›²ç«¯å¹³å°ä¸Šï¼Œä½¿ç”¨ **PostgreSQL** ä½œç‚ºè³‡æ–™åº«ã€‚

## **å°ˆæ¡ˆé è¦½**

*(è«‹å°‡æ­¤è™•çš„é€£çµæ›¿æ›ç‚ºæ‚¨è‡ªå·±ä¸Šå‚³åˆ° GitHub çš„æœ€æ–°å„€è¡¨æ¿æˆªåœ–ï¼Œè¨˜å¾—è¦å±•ç¤ºå‡ºæ–°çš„è¨­å®šå€å¡Šï¼)*

## **ç³»çµ±æ¶æ§‹**

æœ¬å°ˆæ¡ˆæ¡ç”¨æœå‹™åˆ†é›¢çš„ç¾ä»£é›²ç«¯æ¶æ§‹ï¼Œç¢ºä¿å„å…ƒä»¶çš„ç©©å®šæ€§èˆ‡æ“´å……æ€§ï¼š

1. **n8n.cloud (æŒ‡æ®å®˜)**: ä½¿ç”¨ n8n å®˜æ–¹çš„é›²ç«¯æœå‹™ï¼Œå®šæ™‚ï¼ˆä¾‹å¦‚ï¼šäº¤æ˜“æ—¥çš„ 9-13 é»ï¼Œæ¯å°æ™‚ä¸€æ¬¡ï¼‰å‘éƒ¨ç½²åœ¨ Render ä¸Šçš„ Flask æ‡‰ç”¨ç™¼é€ Webhook è«‹æ±‚ã€‚  
2. **FinMind API (æƒ…å ±ä¸­å¿ƒ)**: ä½œç‚ºç©©å®šã€å¯é çš„é‡‘èæ•¸æ“šä¾†æºï¼Œå–ä»£ yfinanceï¼Œç‚ºç³»çµ±æä¾›æ‰€æœ‰åƒ¹é‡è³‡æ–™ã€‚  
3. **Render Web Service (å£«å…µ \+ è³‡è¨Šå®˜)**:  
   * ä¸€å€‹é‹è¡Œ gunicorn çš„ Python ç’°å¢ƒï¼Œè¨—ç®¡æˆ‘å€‘çš„ app.pyã€‚  
   * æä¾› API ç«¯é»æ¥æ”¶ n8n å‘½ä»¤ï¼Œä¸¦å‘¼å« FinMind API ç²å–è³‡æ–™ä¾†åŸ·è¡Œäº¤æ˜“é‚è¼¯ã€‚  
   * æä¾›å‰ç«¯å„€è¡¨æ¿ä¾›ä½¿ç”¨è€…äº’å‹•ã€‚  
4. **Render PostgreSQL (è»ç«åº«)**:  
   * ä¸€å€‹ç”± Render æä¾›çš„å…¨è¨—ç®¡ PostgreSQL è³‡æ–™åº«ï¼Œç”¨æ–¼æ°¸ä¹…å„²å­˜æ‰€æœ‰äº¤æ˜“ã€ç¸¾æ•ˆèˆ‡è¨­å®šæ•¸æ“šã€‚

## **ä¸»è¦åŠŸèƒ½**

* **ğŸ“Š æ•´åˆæ€§å‰ç«¯ä»‹é¢**:  
  * **é ç±¤å¼è¨­è¨ˆ**: åœ¨å–®ä¸€é é¢ä¸­ç„¡ç¸«åˆ‡æ›ã€Œå³æ™‚å„€è¡¨æ¿ã€èˆ‡ã€Œæ­·å²å›æ¸¬ã€åŠŸèƒ½ã€‚  
  * **éåŒæ­¥è«‹æ±‚ (AJAX)**: åŸ·è¡Œå›æ¸¬æˆ–æ›´æ–°è¨­å®šæ™‚é é¢ç„¡éœ€åˆ·æ–°ï¼Œæä¾›æµæš¢çš„ä½¿ç”¨è€…é«”é©—ã€‚  
* **âš™ï¸ äº’å‹•å¼å³æ™‚ç›£æ§**:  
  * ä½¿ç”¨è€…å¯**è‡ªè¨‚ç›£æ§çš„è‚¡ç¥¨æ¨™çš„**ã€‚  
  * å¯ç‚º**æ¯å€‹æ¨™çš„è¨­å®šç¨ç«‹çš„åˆå§‹è³‡é‡‘**ã€‚  
  * æä¾›ã€Œæ‰‹å‹•è§¸ç™¼ã€æŒ‰éˆ•ï¼Œå¯ç«‹å³æ¨¡æ“¬ n8n åŸ·è¡Œä¸€æ¬¡äº¤æ˜“æª¢æŸ¥ã€‚  
* **ğŸ¤– å¯é…ç½®çš„æ­·å²å›æ¸¬**: ä½¿ç”¨è€…å¯è‡ªè¨‚å›æ¸¬çš„è‚¡ç¥¨ä»£è™Ÿã€æ™‚é–“å€é–“èˆ‡åˆå§‹è³‡é‡‘ï¼Œå³æ™‚ç²å¾—ç­–ç•¥åœ¨ä¸åŒæƒ…å¢ƒä¸‹çš„è¡¨ç¾ã€‚  
* **ğŸš€ n8n å·¥ä½œæµæ•´åˆ**: å°‡æ’ç¨‹åŠŸèƒ½å¤–éƒ¨åŒ–ï¼Œç”± n8n è² è²¬è§¸ç™¼ï¼Œä½¿ç³»çµ±æ›´å…·å½ˆæ€§ã€‚  
* **ğŸ“ æŒä¹…åŒ–è¨­å®š**: æ‰€æœ‰ä½¿ç”¨è€…è¨­å®šéƒ½æœƒè¢«å„²å­˜åœ¨é›²ç«¯çš„ PostgreSQL è³‡æ–™åº«ä¸­ã€‚

## **æŠ€è¡“æ£§ (Technology Stack)**

* **å¾Œç«¯**: Python, Flask, Gunicorn  
* **æ•¸æ“šè™•ç†**: Pandas, pandas-ta  
* **è³‡æ–™ç²å–**: **FinMind API**  
* **è³‡æ–™åº«**: **PostgreSQL** (on Render)  
* **è‡ªå‹•åŒ–**: n8n.cloud  
* **å‰ç«¯**: HTML, Tailwind CSS, Chart.js, AJAX (fetch API)  
* **é›²ç«¯å¹³å°**: Render  
* **ç‰ˆæœ¬æ§åˆ¶**: Git, GitHub

## **å¦‚ä½•åœ¨é›²ç«¯éƒ¨ç½²**

### **ç¬¬ä¸€éƒ¨åˆ†ï¼šå–å¾— FinMind API Token**

1. **è¨»å†Š FinMind**: å‰å¾€ [FinMind å®˜æ–¹ç¶²ç«™](https://finmindtrade.com/) è¨»å†Šä¸€å€‹å…è²»å¸³è™Ÿã€‚  
2. **å–å¾— API Token**: ç™»å…¥å¾Œï¼Œåœ¨æ‚¨çš„å€‹äººè³‡æ–™é é¢å¯ä»¥æ‰¾åˆ°æ‚¨çš„ tokenï¼Œè«‹å°‡å®ƒè¤‡è£½ä¸‹ä¾†ï¼Œç¨å¾Œæœƒç”¨åˆ°ã€‚

### **ç¬¬äºŒéƒ¨åˆ†ï¼šéƒ¨ç½² Flask æ‡‰ç”¨åˆ° Render**

1. **æº–å‚™ GitHub**: å°‡å°ˆæ¡ˆï¼ˆåŒ…å«æœ€æ–°çš„ app.py å’Œ requirements.txtï¼‰æ¨é€åˆ°æ‚¨çš„ GitHub å€‰åº«ã€‚  
2. **è¨»å†Š Render**: å‰å¾€ [Render.com](https://render.com/) ä¸¦ç”¨æ‚¨çš„ GitHub å¸³è™Ÿè¨»å†Šã€‚  
3. **å»ºç«‹ PostgreSQL è³‡æ–™åº«**:  
   * åœ¨ Render å„€è¡¨æ¿ï¼Œé»æ“Š New \+ \-\> PostgreSQLã€‚  
   * å–ä¸€å€‹åå­—ï¼ˆä¾‹å¦‚ trading-dbï¼‰ï¼Œé¸æ“‡ Singapore å€åŸŸï¼Œé»æ“Š Create Databaseã€‚  
   * å»ºç«‹å¾Œï¼Œå¾€ä¸‹æ»¾å‹•åˆ° Connections å€å¡Šï¼Œè¤‡è£½ **Internal Database URL**ã€‚  
4. **å»ºç«‹ Web Service**:  
   * é»æ“Š New \+ \-\> Web Serviceã€‚  
   * é¸æ“‡æ‚¨å°ˆæ¡ˆçš„ GitHub å€‰åº«ä¸¦é€£æ¥ã€‚  
   * **Name**: trading-platform-finmind (æˆ–æ‚¨å–œæ­¡çš„åå­—)  
   * **Branch**: main (æˆ–æ‚¨å­˜æ”¾æœ€çµ‚ç‰ˆçš„ç¨‹å¼ç¢¼åˆ†æ”¯)  
   * **Build Command**: pip install \-r requirements.txt  
   * **Start Command**: gunicorn \--timeout 120 "app:create\_app()"  
5. **è¨­å®šç’°å¢ƒè®Šæ•¸ (æœ€é—œéµçš„ä¸€æ­¥)**:  
   * åœ¨å»ºç«‹æœå‹™çš„é é¢å¾€ä¸‹æ»¾å‹•åˆ° Advancedã€‚  
   * åœ¨ Environment å€å¡Šé»æ“Š Add Environment Variableï¼Œæ–°å¢**å››å€‹**è®Šæ•¸ï¼š  
     * **Key**: PYTHON\_VERSION, **Value**: 3.12.4  
     * **Key**: DATABASE\_URL, **Value**: (è²¼ä¸Šæ‚¨å‰›å‰›è¤‡è£½çš„ PostgreSQL å…§éƒ¨ URL)  
     * **Key**: API\_SECRET\_KEY, **Value**: (è¨­å®šä¸€å€‹æ‚¨è‡ªå·±çš„ã€æ›´è¤‡é›œçš„å¯†é‘°ï¼Œä¾‹å¦‚ strong\_secret\_from\_render)  
     * **Key**: FINMIND\_API\_TOKEN, **Value**: (è²¼ä¸Šæ‚¨å¾ FinMind ç¶²ç«™è¤‡è£½çš„ API Token)  
6. **éƒ¨ç½²ï¼**: é»æ“Š Create Web Serviceã€‚Render æœƒè‡ªå‹•é–‹å§‹å»ºç½®ä¸¦å•Ÿå‹•æ‚¨çš„æ‡‰ç”¨ã€‚å®Œæˆå¾Œï¼Œæ‚¨æœƒå¾—åˆ°ä¸€å€‹ ...onrender.com çš„å…¬é–‹ç¶²å€ã€‚

### **ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¨­å®š n8n.cloud**

1. **è¨»å†Š n8n.cloud**: å‰å¾€ [n8n.cloud](https://n8n.cloud/) ä¸¦è¨»å†Šä¸€å€‹å…è²»å¸³è™Ÿã€‚  
2. **è¨­å®šå·¥ä½œæµ**:  
   * ç™»å…¥å¾Œï¼ŒåŒ¯å…¥ trading\_bot\_workflow.jsonã€‚  
   * è¨­å®š HTTP Header Auth æ†‘è­‰ï¼ŒValue è¦ä½¿ç”¨æ‚¨åœ¨ Render ç’°å¢ƒè®Šæ•¸ä¸­è¨­å®šçš„ API\_SECRET\_KEYã€‚  
   * ä¿®æ”¹ HTTP Request ç¯€é»çš„ **URL**ï¼Œæ”¹ç‚ºæ‚¨å¾ Render æ‹¿åˆ°çš„å…¬é–‹ç¶²å€ï¼Œä¸¦åœ¨å¾Œé¢åŠ ä¸Š /api/trigger-trade-checkã€‚  
3. **å•Ÿå‹•å·¥ä½œæµ**